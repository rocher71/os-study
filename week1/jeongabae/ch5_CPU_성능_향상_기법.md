# 05-1 빠른 CPU를 위한 설계 기법

## 클럭

클럭 속도 : 헤르츠(Hz) 단위로 측정.(1초에 클럭이 몇 번 반복)

클럭 속도를 높이는 것

: CPU 빠르게 만듦. but, 클럭 속도만으로 CPU 성능 올리는 것에는 한계가 있음.

## 코어와 멀티코어

### CPU 성능 높이는 방법

1. 클럭 속도 높이기
2. CPU 코어 늘리기
3. 스레드 수 늘리기

코어? 명령어를 실행하는 부품

**CPU 8코어는 명령어 실행하는 부품을 8개 포함하고 있다는 것을 의미

멀티코어 CPU(멀티코어 프로세서)? 코어를 여러 개 포함하고 있는 CPU

## 스레드와 멀티스레드

- **스레드** : 실행 흐름 단위
    - **하드웨어적 스레드** : CPU에서 사용됨
    → ‘하나의 코어가 동시에 처리하는 명령어 단위’
    - **소프트웨어적 스레드** : 프로그램에서 사용
    → ‘하나의 프로그램에서 독립적으로 실행되는 단위’
- **멀티스레드 프로세서(멀티스레드 CPU)**
 : 하나의 코어로 여러 명령어를 동시에 처리하는 CPU
    - ex) 2코어 4스레드 CPU는 한 번에 네 개의 명령어 처리 ㄱㄴ, 프로그램 입장에서 하나의 명령어를 처리하는 CPU가 4개 있는 것 처럼 보이는..
        - 그래서 하드웨어 스레드를 그래서 논리 프로세서라고 부르기도 함.
- **하이퍼스레딩** : 인텔의 멀티스레드 기술

---

# 05-2 명령어 병렬 처리 기법

# 명령어 파이프 라인

- 명령어 처리 과정(클럭 단위로 나눈)
    1. 명령어 인출
    2. 명령어 해석
    3. 명령어 실행
    4. 결과 저장
- **명령어 파이프라이닝** : 명령어들을 명령어 파이프라인에 넣고 동시에 처리하는 기법
- **파이프라인 위험** : 파이프라이닝하는데, 특정 상황에서 성능 향상에 실패하는 경우
    - 종류 : 데이터 위험, 제어 위험, 구조적 위험
    1. **데이터 위험** : 데이터 의존성에 의해 발생됨
    → 모든 명령어를 동시에 처리할 수 없음.(어떤 명령어는 끝까지 실행해야만 실행될 수 있는 경우도…)
    2. **제어 위험** : 분기 등으로 인한 PC의 갑작스러운 변화에 의해 발생됨.
    → 이를 위해 사용하는 기술 중 하나가 분기 예측
    3. **구조적 위험(자원 위험) :** 명령어들을 겹쳐 실행하는 과정에서 서로 다른 명령어가 동시에 CPU 부품 사용하려고 할 때 발생

## 슈퍼스칼라

: CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조

슈퍼스칼라 CPU(슈퍼스칼라 프로세서) : 슈퍼스칼라 구조로 명령어 처리가 가능한 CPU

## 비순차적 명령어 처리

- 명령어들을 순차적 실행x
- 파이프라인 멈추는 것을 방지

---

# 05-3 CISC와 RISC

명령어 집합(명령어 집합 구조)(ISA) : CPU가 이해할 수 있는 명령어들의 모음

## CISC(Complex Instruction Set Computer)

- 복잡한 명령어 집합을 활용하는 컴퓨터(CPU)
- x86, x86-64는 대표적인 CISC기반의 ISA
- 가변 길이 명령어 활용
- 장점 : 적은 수의 명령어만으로도 프로그램 동작시킬 수 있음
(메모리 공간 절약)
- 단점 : 활용하는 명령어가 워낙 복잡, 다양한 기능 제공하는 탓에 명령어 크기와 실행되기까지의 시간이 일정X, 복잡한 명령어 때문에 명령어 하나 실행하는 데 여러 클럭 주기 필요
    - 파이프라이닝이 어려움.

## RISC(Reduced Instruction Set Computer)

<img width="579" alt="image" src="https://github.com/user-attachments/assets/9519d02e-bbfd-4263-a1c6-482ff68682a8" />


→ 이에 RISC등장

- 명령어 종류 적음.
- 짧고 구격화된 명령어, 되도록 1클럭 내외로 실행되는 명령어 지향
→ 고정 길이 명령어 활용
<img width="538" alt="image" src="https://github.com/user-attachments/assets/d61fbe06-ce3b-47c4-a580-bb5db44f89a9" />
